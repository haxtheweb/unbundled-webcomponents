import{LitElement,html,css}from"../../../lit-element/lit-element.js";import{A11yCollapse}from"../a11y-collapse.js";class A11yCollapseGroup extends LitElement{static get styles(){return[css`
        :host {
          display: block;
          margin: var(--a11y-collapse-group-margin, 15px 0);
          --a11y-collapse-margin: 15px;
        }
        :host([hidden]) {
          display: none;
        }
        #heading {
          font-weight: bold;
        }
        .wrapper {
          border-radius: 0;
          --a11y-collapse-margin: 0 0;
          --a11y-collapse-border-between: none;
        }
      `]}render(){return html`
      <div class="wrapper"><slot></slot></div>
    `}constructor(){super(),this.globalOptions={},this.radio=!1,this.__items=[],this.addEventListener("a11y-collapse-attached",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this._attachItem(e.detail),e.stopPropagation(),e.stopImmediatePropagation()}),this.addEventListener("a11y-collapse-detached",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this._detachItem(e.detail),e.stopPropagation(),e.stopImmediatePropagation()}),this.addEventListener("a11y-collapse-click",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.radioToggle(e.detail),e.stopPropagation(),e.stopImmediatePropagation()})}static get tag(){return"a11y-collapse-group"}static get properties(){return{...super.properties,...A11yCollapse.properties,globalOptions:{type:Object,attribute:"global-options",reflect:!0},radio:{type:Boolean,attribute:"radio"},__items:{type:Array}}}static get haxProperties(){return{canScale:!1,canPosition:!0,canEditSource:!1,gizmo:{title:"Expand Collapse Group",description:"A group of expand collapse elements.",icon:"view-day",color:"grey",groups:["Content","Presentation","Collapse"]},settings:{quick:[{property:"radio",title:"Expand only one",description:"Only one item can be expanded.",inputMethod:"boolean"},{property:"disabled",title:"Disabled",description:"Disable items.",inputMethod:"boolean"}],configure:[{property:"radio",title:"Expand only one",description:"Only one item can be expanded.",inputMethod:"boolean"},{property:"disabled",title:"Disabled",description:"Disable items.",inputMethod:"boolean"},{slot:"",title:"Collapse Items",description:"The collapse items.",inputMethod:"code-editor"}],advanced:[{property:"hidden",title:"Hidden",inputMethod:"boolean"}]}}}get items(){return this.__items}_attachItem(item){this.__items.push(item),Object.keys(A11yCollapseGroup.properties||{}).forEach(propName=>this._updateItem(item,propName))}updated(changedProperties){changedProperties.forEach((oldValue,propName)=>{this.__items.forEach(item=>this._updateItem(item,propName,oldValue))})}_updateItem(item,propName,oldValue){if("globalOptions"===propName||"__items"===propName){if(this.globalOptions!=={})for(let key in this.globalOptions)this.globalOptions.hasOwnProperty(key)&&(item[key]=this.globalOptions[key])}else"radio"===propName&&this.radio?item.expanded=!1:null===this[propName]&&void 0===this[propName]||(item[propName]=this[propName])}_detachItem(item){if(this.__items&&item)for(let i=0;i<this.__items.length;i++)this.__items[i]===item&&this.__items.splice(i,1)}radioToggle(item){if(this.radio&&item.expanded)for(let i=0;i<this.__items.length;i++)this.__items[i]!==item&&this.__items[i].toggle(!1)}disconnectedCallback(){this.removeEventListener("a11y-collapse-click",e=>{e.stopPropagation(),this.radioToggle(e.detail)}),this.removeEventListener("a11y-collapse-attached",e=>{e.stopPropagation(),this.push("__items",e.detail)}),this.removeEventListener("a11y-collapse-detached",e=>{e.stopPropagation(),this._detachItem(e.detail)}),super.disconnectedCallback()}}window.customElements.define(A11yCollapseGroup.tag,A11yCollapseGroup);export{A11yCollapseGroup};